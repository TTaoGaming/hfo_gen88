# HFO Swarm Evaluation - Promptfoo Config
# Tests single vs multi-model patterns

description: "HFO Gen 88 - Scatter-Gather vs Single Model"

providers:
  # Single best model
  - id: ollama:chat:gemma3:4b
    label: "A) Single (gemma3:4b)"
  
  # Small models for swarm
  - id: ollama:chat:gemma3:1b
    label: "B1) Gemma 1B"
  - id: ollama:chat:qwen3:0.6b
    label: "B2) Qwen 0.6B"
  - id: ollama:chat:llama3.2:1b
    label: "B3) Llama 1B"
  - id: ollama:chat:phi3:mini
    label: "B4) Phi3 Mini"

prompts:
  - |
    Answer concisely with just the answer, no explanation:
    
    {{question}}

tests:
  # General knowledge
  - vars:
      question: "What is 2 + 2?"
    assert:
      - type: contains
        value: "4"
  
  - vars:
      question: "What is the capital of France?"
    assert:
      - type: icontains
        value: "paris"
  
  - vars:
      question: "Is 17 a prime number? Answer yes or no."
    assert:
      - type: icontains
        value: "yes"

  # HFO-specific (with context)
  - vars:
      question: |
        OBSIDIAN 8-Port System:
        Port 0: OBSERVE, Port 1: BRIDGE, Port 2: SHAPE, Port 3: INJECT
        Port 4: DISRUPT, Port 5: IMMUNIZE, Port 6: ASSIMILATE, Port 7: NAVIGATE
        
        Which port handles testing and chaos? Answer with just the number.
    assert:
      - type: contains
        value: "4"

  - vars:
      question: |
        OBSIDIAN 8-Port System:
        Port 0: OBSERVE, Port 1: BRIDGE, Port 2: SHAPE, Port 3: INJECT
        Port 4: DISRUPT, Port 5: IMMUNIZE, Port 6: ASSIMILATE, Port 7: NAVIGATE
        
        What verb corresponds to Port 7? Answer in UPPERCASE.
    assert:
      - type: icontains
        value: "navigate"

  - vars:
      question: |
        HIVE Workflow: H (Hunt) → I (Interlock) → V (Validate) → E (Evolve)
        - H: Research, plan
        - I: TDD RED, failing tests
        - V: TDD GREEN, make tests pass
        - E: TDD REFACTOR
        
        Which HIVE phase involves writing failing tests? Answer with just the letter.
    assert:
      - type: contains
        value: "I"

outputPath: results/promptfoo_results.json
